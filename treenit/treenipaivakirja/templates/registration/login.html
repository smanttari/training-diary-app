{% extends "base_generic.html" %}
{% load widget_tweaks %}
{% load static %}

{% block head %}
  <style>
    body {
      background-image: url("{% static 'treenipaivakirja/images/logo-light-margin.svg' %}");
      background-position: center; 
      background-repeat: no-repeat;
      background-size: contain;
    }
  </style>
{% endblock %}

{% block title %}Treenipäiväkirja | Login{% endblock %}
{% block header %}Kirjaudu sisään{% endblock %}

{% block content %}

<div class="mt-3">

  {% if form.errors %}
    <p class="text-danger">Väärä käyttäjätunnus tai salasana. Yritä uudelleen.</p>
  {% endif %}

  <form method="post">{% csrf_token %}
    <fieldset>
    <div class="row">
        <label class="col-md-2 form-label"><b>{{ form.username.label_tag }}</b></label>
        <div class="col-md-2">{{ form.username|add_class:'form-control'  }}</div>
    </div>
    <div class="row mt-2">
        <label class="col-md-2 form-label"><b>{{ form.password.label_tag }}</b></label>
        <div class="col-md-2">{{ form.password|add_class:'form-control' }}</div>
    </div>
    </fieldset>
    <div class="row mt-3">
    <div class="form-actions col-md-2">
        <button type="submit" id="id_login" class="btn btn-primary">Kirjaudu</button>
    </div>
    <div class="col-md-3">
      <p class="small pt-2">Uusi käyttäjä? <a id="id_add_account" href="{% url 'register' %}">Rekisteröidy</a></p>
    </div>
  </div>
  </form>

</div>

{% if messages %}
{% for message in messages %}{% endfor %}
<script> 
  setTimeout(() => $(".alert").alert('close'), 4000)
</script>
{% endif %}

{% endblock %}